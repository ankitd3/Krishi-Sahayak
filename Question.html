<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Example of Bootstrap 3 Accordion</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel = "stylesheet" href = "css/option.css">
</head>
<body>
    <div class = "container">
        <br>
        <div class = "container text-center">
            <h1>Krishi Sahayak</h1>
            <div id="google_translate_element">hi</div>
        </div>
        <hr>
        <br>
        <h2 class = "text-center">Upload your question here</h2>
        <div class="bs-example">
            <div class="panel-group" id="accordion">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                                    <i class="fa fa-microphone" aria-hidden="true"></i>
                                    Upload through audio
                            </a>
                        </h4>
                    </div>
                    <div id="collapseOne" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <form action = "Question.php" enctype="multipart/form-data" method="POST">
                                <div class="form-group">
                                    <label for="audio_file">Upload audio here</label>
                                    <input type="file" name="audio_file" accept = "audio/*" class="form-control-file" id="audio_file">
                                </div>
                                    <button type="submit" name="submit_audio" class="btn btn-lg">Post</button>       
                            </form>    
                        </div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
                                <i class="fa fa-camera" aria-hidden="true"></i>
                                Upload through image/text 
                            </a>
                        </h4>
                    </div>
                    <div id="collapseTwo" class="panel-collapse collapse">
                        <div class="panel-body">
                            <form action = "Question.php" enctype="multipart/form-data" method="POST">
                                <div class="form-group">
                                    <label for="img_file">Upload your image here</label>
                                    <input type="file" name="img_file" class="form-control-file" id="img_file">
                                </div>
                                <div class="form-group">
                                    <label for="info">Question details:</label>
                                    <label onclick="start('info');">----<b>Audio<b></label>
                                    	<select onchange="changeLanguage('lang_img_text');" id="lang_img_text">
										  <option value="mr">Marathi</option>
										  <option value="hi">Hindi</option>
										  <option value="en-IN">English</option>
										  <option value="ml">Malayalam</option>
										  <option value="te">Telugu</option>
										  <option value="gu">Gujarati</option>
										  <option value="as">Assamese</option>
										  <option value="bn">Bengali</option>
										  <option value="as">Assamese</option>
										  <option value="or">Oriya</option>
										  <option value="pa">Punjabi</option>
										  <option value="sa">Sanskrit</option>
										  <option value="sd">Sindhi</option>
										  <option value="sa">Sanskrit</option>
										  <option value="ur">Urdu</option>
										</select>
                                    <textarea class="form-control" name="text_file" rows="5" id="info"></textarea>
                                </div>
                                <button type="submit" name="submit_img" class="btn btn-lg">Post</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree">
                                <i class="fa fa-keyboard" aria-hidden="true"></i>
                                Upload through text
                            </a>
                        </h4>
                    </div>
                    <div id="collapseThree" class="panel-collapse collapse">
                        <div class="panel-body">
                            <form action = "Question.php" method="POST">
                                <div class="form-group">
                                    <label for="text">Type question here</label>
                                    <label onclick="start('text');">-----<b>Audio<b></label>
                                    	<select onchange="changeLanguage('lang_text');" id="lang_text">
										  <option value="mr">Marathi</option>
										  <option value="hi">Hindi</option>
										  <option value="en-IN">English</option>
										  <option value="ml">Malayalam</option>
										  <option value="te">Telugu</option>
										  <option value="gu">Gujarati</option>
										  <option value="as">Assamese</option>
										  <option value="bn">Bengali</option>
										  <option value="as">Assamese</option>
										  <option value="or">Oriya</option>
										  <option value="pa">Punjabi</option>
										  <option value="sa">Sanskrit</option>
										  <option value="sd">Sindhi</option>
										  <option value="sa">Sanskrit</option>
										  <option value="ur">Urdu</option>
										</select>
                                    <textarea class="form-control" name="text" rows="5" id="text"></textarea>
                                </div>
                                <button type="submit" name="submit_text" class="btn btn-lg">Post</button>       
                            </form>  
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">

    		var lang;

    		function changeLanguage (l){
    			var x = document.getElementById(l);
    			lang = x.value;
    		}

            function start (id) {

                var r = document.getElementById(id);

                if('webkitSpeechRecognition' in window){
                    var speechRecognizer = new webkitSpeechRecognition();
                    speechRecognizer.continuous = true;
                    speechRecognizer.interimResults = true;
                    speechRecognizer.lang = lang;
                    speechRecognizer.start();

                    var finalTranscripts = '';

                    speechRecognizer.onresult = function(event){
                        var interimTranscripts = '';
                        for(var i = event.resultIndex; i < event.results.length; i++){
                            var transcript = event.results[i][0].transcript;
                            transcript.replace("\n", "<br>");
                            if(event.results[i].isFinal){
                                finalTranscripts += transcript;
                            }else{
                                interimTranscripts += transcript;
                            }
                        }
                        r.innerHTML = finalTranscripts + interimTranscripts;
                    };
                    speechRecognizer.onerror = function (event) {
                    };
                }else{
                    r.innerHTML = 'Your browser is not supported. If google chrome, please upgrade!';
                }
            }
    </script>

    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
    }
    </script>

    <script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>                                		                            